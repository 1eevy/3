N := 128
c := 5e-9

SetGridSize(N, N, 1)
SetCellSize(c, c, c)

d := 20*c

SetGeom(circle(d).repeat(2*d, d, 0))

m = uniform(1, 0, 0)

Msat = 800e3
Aex  = 13e-12
alpha = 1

steps(1000)

save(m)

m_ := average(m)
expect("mx", m_[0], 0.557367, 1e-2)
expect("my", m_[1], 0,        1e-2)
expect("mz", m_[2], 0,        1e-2)

